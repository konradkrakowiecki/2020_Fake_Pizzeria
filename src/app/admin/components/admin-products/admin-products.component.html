<div class="container" style="margin-top: 20px">

  <div style="display: flex; flex-direction: row; align-items: baseline; justify-content: space-between">
    <div>
      <mat-form-field appearance="outline">
        <mat-label>Szukaj...</mat-label>
        <input matInput type="text" (keyup)="filter($event.target.value)" placeholder="Szukaj...">
      </mat-form-field>
    </div>
    <div>
      <button mat-flat-button color="primary" routerLink="/admin/products/new">Nowy Produkt</button>
    </div>
  </div>

  <div>
    <data-table [title]="'Produkty'" [items]="items" [itemCount]="itemCount" (reload)="reloadItems($event)">
      <data-table-column [property]="'title'" [header]="'Nazwa'" [sortable]="true" [resizable]="true">
        <ng-template #dataTableCell let-item="item">
          {{item.title}}
        </ng-template>
      </data-table-column>

      <data-table-column [property]="'price'" [header]="'Cena'" [sortable]="true" [resizable]="true">
        <ng-template #dataTableCell let-item="item">
          {{item.price | number:'.2-2'}}
        </ng-template>
      </data-table-column>

      <data-table-column [property]="'category'" [header]="'Kategoria'" [sortable]="true" [resizable]="true">
        <ng-template #dataTableCell let-item="item">
          {{item.category.name}}
        </ng-template>
      </data-table-column>

      <data-table-column [property]="'key'">
        <ng-template #dataTableCell let-item="item">
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item [routerLink]="['/admin/products/' + item.key]">
              <mat-icon>edit</mat-icon>
              <span>Edytuj</span>
            </button>
          </mat-menu>
        </ng-template>
      </data-table-column>
    </data-table>
  </div>

</div>

